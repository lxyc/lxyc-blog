### 写在前面

在页面布局中，居中对齐是比较常见和基础的布局需求，但是我们往往会因为垂直对齐中的1px，2px而头疼不已。在这一章（《css世界》第五章）中，张大大从深层次解释了垂直对齐的原理，并为垂直居中提供了最佳实践。

### 一、基本概念

（1）**基线(baseline)**：字母 x 的下边缘(线)就是基线

（2）**x-height**：小写字母 x 的高度，术语描述就是基线和等分线(mean line)(也称作中线，midline)之间的距离

![](/css/assets/inline-lines.jpg)

```
ascender height: 上行线高度
cap height: 大写字母高度
median: 中线
descender height: 下行线高度
```

（3）**middle线**：`vertical-align:middle;` 中middle指的是基线往上1/2 x-height高度（近似垂直居中）

（4）**单位ex**：CSS中的一个相对单位，指的是小写字母 x 的高度
用法：[不受字体和字号影响的内联元素的垂直居中对齐效果](http://demo.cssworld.cn/5/1-1.php)
```css
.icon-arrow {
    display: inline-block;
    width: 20px;
    height: 1ex;
    background: url(arrow.png) no-repeat center;
}
```

### 二、行高line-height

> 对于非替换元素的纯内联元素，其可视高度完全由 line-height 决定，通俗的说，纯内联元素的可视高度不受padding、margin、border 属性的影响（这个我们在[上一篇博客](https://segmentfault.com/a/1190000015777141)也有说明）

#### 2.1 行距
一个公式：`行距 = line-height - font-size`

上下行距分配规则：**当行距为偶数时，上下行距平分；当行距为基数时，上边距向上取整，下边距向下取整**；因为绝大多数字体都是偏下的

![](/css/assets/line-height.jpg)

#### 2.2 line-height实现居中

**误区**：并非是`line-height=height`实现了单行文本的居中，line-height单独作用即可实现

应用：[利用line-height实现多行文本居中对齐](http://demo.cssworld.cn/5/2-4.php)

```css
<div class="box">
    <div class="content">基于行高实现的...</div>
</div>

/* 近似居中对齐 */
.box {
    width: 280px;
    line-height: 120px;
    background-color: #f0f3f9;
    margin: auto;
}
.content {
    display: inline-block;
    line-height: 20px;
    margin: 0 20px;
    text-align: left;
    vertical-align: middle;
}

/* 绝对居中 */
.box {
    font-size: 0;
}
.box .content {
    font-size: initial;
}
```

原理：
近似居中：`.box`行高为120，`.content`行高为20，“幽灵空白节点”在`.content`前撑起了整个内容区域

绝对居中：在上面的基础上，由于middle为近似居中，由于x-height受到font-size的影响，font-size为0时可理解为绝对居中

#### 2.3
